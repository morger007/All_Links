<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fractal Triangle</title>
</head>
    <link href="main.css" rel="stylesheet"/>


    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script>
        $(function()
        {
            $("#header").load("header.html");
            $("#footer").load("footer.html");
        });
    </script>
<body id="triangle_body">
    <div id="header">
        <div id="navBar">
            <a class = 'navButton' href="index.html">Home</a>
            <a class = 'navButton' href="fractalSquare.html">Sierpiński Carpet</a>
            <a class = 'navButton' href="fractalTriangle.html">Sierpiński triangle</a>
            <a class = 'navButton' href="about.html">About</a>
        </div>
    </div>
    <canvas id="myCanvas" width="500" height="500"></canvas>
    <button id="updateButton" onclick="update()">next</button>
    <!--
    drawSquareFractal({x: 300, y: 300}, {x: 400, y: 300}, {x: 400, y: 400}, {x: 300, y: 400}, 2, counter);
    -->
    <script>
        var x = 200
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        var counter = 1;

        ctx.fillStyle = "black";
        ctx.strokeRect(x, 200, 300, 300)
        function drawLine(p0, p1, color="black") {
            ctx.beginPath();
            ctx.moveTo(p0.x, p0.y);
            ctx.lineTo(p1.x, p1.y);
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawTriangle(p0, p1, p2) {
            drawLine(p0, p1);
            drawLine(p1, p2);
            drawLine(p2, p0);
        }

        function drawTriangleFractal(p0, p1, p2, limit) {
            if(limit > 0){
                const pA = {
                        x: p0.x + (p1.x - p0.x)/2,
                        y: p0.y - (p0.y - p1.y)/2
                    },
                    pB = {
                        x: p1.x + (p2.x - p1.x)/2,
                        y: p1.y - (p1.y - p2.y)/2
                    },
                    pC = {
                        x: p0.x + (p2.x - p0.x)/2,
                        y: p0.y
                    };

                drawTriangleFractal(p0, pA, pC, limit - 1);
                drawTriangleFractal(pA, p1, pB, limit - 1);
                drawTriangleFractal(pC, pB, p2, limit - 1);

            }
            else{
                drawTriangle(p0,p1,p2);
            }
        }

        function update() {
            drawTriangleFractal({x: 0, y:400},{x:200, y:0},  {x:400, y:400}, counter);
            counter++
        }

    </script>

    <div id="footer"></div>
</body>
</html>